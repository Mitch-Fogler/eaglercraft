<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Sigma Chess Analysis</title>
  <style>
    /* copy over only the analysis‑mode styles from your main CSS */
    body { margin:0; font-family: Arial, sans-serif; }
    .analysis-toolbar {
      display: flex; align-items: center; gap:8px;
      padding:8px; background:#fafafa; border-bottom:1px solid #ddd;
    }
    .analysis-toolbar input, .analysis-toolbar textarea, .analysis-toolbar button {
      font-size:14px; padding:4px; border:1px solid #ccc;
    }
    .analysis-container {
      display:flex; height:calc(100vh - 48px); /* toolbar height */
    }
    .board-pane { flex:3; display:flex; justify-content:center; align-items:center; }
    .analysis-pane {
      flex:2; display:flex; flex-direction:column;
      border-left:1px solid #ddd; overflow:hidden;
    }
    #pvControls {
      padding:8px; background:#f5f5f5; border-bottom:1px solid #ddd;
      display:flex; gap:4px; align-items:center;
    }
    #pvList { flex:1; overflow-y:auto; padding:8px; font-family:monospace; }
    #evalGraph { height:100px; width:100%; border-top:1px solid #ddd; }
  </style>
</head>
<body>
  <div class="analysis-toolbar">
    <label>FEN:</label>
    <input type="text" id="fenInput" placeholder="Enter FEN…"/>
    <button id="importFen">Import</button>
    <label>PGN:</label>
    <textarea id="pgnInput" placeholder="Paste PGN…"></textarea>
    <button id="importPgn">OK</button>
  </div>

  <div class="analysis-container">
    <div class="board-pane">
      <div id="chessboard"></div>
    </div>
    <div class="analysis-pane">
      <div id="pvControls">
        <button id="lessLines">–</button>
        <span>Lines</span>
        <button id="moreLines">+</button>
      </div>
      <div id="pvList"></div>
      <canvas id="evalGraph"></canvas>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
  <script src="stockfish.js"></script>
  <script>
  // copy in just the analysis‑mode JS: initStockfish(), analyzeCurrentPosition(),
  // wiring fenInput/importFen, importPgn, multipv controls, rendering into #pvList
  </script>
</body>
</html>
